---
import Layout from '@layouts/Layout.astro'
import artworks from '@components/artworks.json'
import type { Artworks } from '../../types'

export async function getStaticPaths() {
	const art: Artworks = artworks
	const pages = Object.keys(art).map((key) => {
		return {
			id: key,
			...art[key]
		}
	})

	return pages.map(({ slug, name, image, text }) => {
		return {
			params: { slug },
			props: { name, image, text }
		}
	})
}

const { name, image, text } = Astro.props
const title = `Ton Lamper - ${name}`
---

<Layout title={title}>
	<div class="mb-9 flex items-center justify-between gap-9">
		<h1 class="mb-0">{name}</h1>
		<a href="/portfolio" class="inline-flex items-center">â€¹ Terug naar portfolio</a>
	</div>

	{text && <div class="mb-9" set:html={text} />}

	<div class="flex justify-center">
		<img src={image} alt={name} class="max-h-[800px]" height="800" />
	</div>
</Layout>
